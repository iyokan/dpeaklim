//////////////////////////////////////////////////////////////////////
//                                                                  //
//       Disable Peak Limiter in Windows Audio Engine Ver 1.2       //
//                                                                  //
//////////////////////////////////////////////////////////////////////

2019/10/27
川本優

//////////////////////////このソフトについて//////////////////////////

このソフトは、Windows Vista以降のサウンド出力に強制的に適用される、
音質劣化の原因の一つであるピークリミッターを無効化するものです。
約-0.13dB以上のサウンドを再生した時に音量が減少しないようになります。
通常はピークリミッターが実装されているファイルが著作権保護機能により
保護されているために一般的には無効化する手段が存在しませんが、
このソフトでは物理メモリを書き換えることにより実現しています。
そのためWindowsを再起動するとピークリミッターが再度有効化されます。
デバイスの追加やWindows Update等によるシステム側の変更により、
一部の環境では動作しない可能性がありますが、ご了承ください。

///////////////////////////////操作方法///////////////////////////////

お使いのOSが32ビット版の場合は"x86\dpeaklim.exe"を、
64ビット版の場合は"amd64\dpeaklim.exe"を実行してください。
音声を再生または録音中のアプリケーションが存在する場合、
実行前にアプリケーションを終了または再生や録音を停止してください。

他の常駐ソフトウェアやデバイスドライバの挙動により、
実行してもピークリミッターが無効化できない、
または実行後すぐに有効になることがあります。
その場合、コマンドラインより以下の引数を指定して実行してみてください。
dpeaklim.exe -to:-1
強制的にピークリミッターが常時無効になりますが、複数の音声再生により、
合計の音量が0dBを超える場合に異音（いわゆる音割れ）が発生します。

ピークリミッターの無効化した後で再度有効化するには、
Windowsを再起動するか、または以下の引数を指定して実行してください。
dpeaklim.exe -restore
無効化した際に-fromまたは-toオプションを使用した場合は、
上記の引数に続けて同じオプションを追加してください。

仕様によりWindowsを再起動するとピークリミッターが有効化されますが、
ファイルのキャッシュが書き換わる事によるWindowsの破損を防ぐため、
念のためタスクスケジューラ等で自動的に起動しないでください。

///////////////////////////////動作環境///////////////////////////////

OS		Windows 10 Pro
		Windows 8.1 Pro
		Windows 8 Pro
		Windows 7 Professional SP1
		Windows Vista Business SP2
		(上記のエディション以外でも動作する可能性があります)

///////////////////////////////版権など///////////////////////////////

InpOut32 v1.5.0.0はLogix4U & Highresolution Enterprisesの著作物です。
詳細は同梱の"InpOut32.txt"を参照してください。

////////////////////////////////その他////////////////////////////////

作者は　川本優　です。
このソフトは無償です。またこのソフトによって生じたいかなる障害も
作者は一切関与いたしません。自己責任で使用してください。

ご意見、ご感想、バグ報告等は下記のホームページのフォーム、
またはメールアドレスにて承りますので、
どうぞ宜しくお願いいたします。

ホームページ	http://kawamoto.no-ip.org/henteko/
メールアドレス	s_kawamoto2307@yahoo.co.jp

/////////////////////////////////履歴/////////////////////////////////

Ver 1.0
とりあえず動作。

Ver 1.1
Windows 10 Proで動作確認。
コマンドラインでピークリミッターの閾値を変更する機能を追加。
実行時にコマンドラインオプションの詳細を表示するように変更。

Ver 1.2
Windowsを再起動せずにピークリミッターの閾値を元に戻す機能を追加。
物理メモリの検索速度を改善。
一部の環境で物理メモリの書き換えに失敗するバグを修正。。

